<!DOCTYPE html>
<meta charset=utf-8>
<title>jxu blog</title>
<h1 id="simpler-bash-prompt">Simpler Bash Prompt</h1>
<p>On Ubuntu, the default bash prompt is given in ~/.bashrc:</p>
<pre><code>PS1=&#39;${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\]\$ &#39;</code></pre>
<p>Aside from a <a href="https://askubuntu.com/a/372862">fancy chroot trick</a>, this produces a color prompt like</p>
<pre><code>jx@ThinkPad-P51:~/mydir$ </code></pre>
<p>This is fine, but one thing I’ve always disliked is that if I’m in a deep directory, the commands could start all the way at the right side of the screen:</p>
<pre><code>jx@ThinkPad-P51:~/really_long_directory/more/nested/directory$ echo &#39;hi&#39;</code></pre>
<p>Plus, the hostname is redundant on my personal computer, as I know where I’m logged into.</p>
<p>I was inspired by Git Bash Shell on Windows(!) to start the command on a new line, always left-justified. This makes it easier to visually keep track of the command history. Keeping the bold green working directory from the original prompt, I used https://bash-prompt-generator.org to generate a PS1 simplified as</p>
<pre><code>PS1=&#39;\[\e[32;1m\]\w\[\e[0m\]\n\$ &#39;</code></pre>
<p>This produces a simple prompt like</p>
<pre><code>~/really_long_directory/more/nested/directory
$ echo &#39;hi&#39;</code></pre>
<p>On remote shells without color, this can be simplified even more to</p>
<pre><code>PS1=&#39;\w\n$ &#39;</code></pre>
<p>which is easy enough to remember. Bash also has a fancy option to only show trailing directories with <code>PROMPT_DIRTRIM</code>, like in Termux:</p>
<pre><code>~/.../movies/old $ </code></pre>
<p>I didn’t bother with this since I start on a new line.</p>
